<!--废弃该方法：有些组件【vant、layui等】demo标签后续才显示，需要对应修改-->
<extend name="Public:base"/>
<block name="content">
  <link rel="stylesheet" href="http://dev.duinin.com/Public/common/icon/styleicon/style.css?v=47.2">
  <link rel="stylesheet" href="http://dev.duinin.com/Public/wap/css/common/public.css?v=47.15">
  <link rel="stylesheet" href="http://dev.duinin.com//Public/admin/css/Diy/diy.css?v={$V}">
  <link rel="stylesheet" href="__VANT_CSS__">
  <link rel="stylesheet" href="__SWIPERCSS__">
  <style>
    html {
      font-size: 20px;
    }
  </style>
  <div class="admin-main" id="app" v-cloak="">
    <div style="margin: 50px;">
      <color-picker :info="info" param="color1" default-color="rgba(218, 55, 58, 1)" @change="diyTheme"></color-picker>
      <color-picker :info="info" param="color2" default-color="rgb(241, 137, 60, 1)" @change="diyTheme"></color-picker>
    </div>

    <div style="padding: 20px 50px;">
      <div class="border-box-list">
        <div class="title">文字</div>
        <div class="list-item">
          <a class="color-diy">color-diy：字体颜色</a>
          <a class="styleicon-33">styleicon-33</a>
          <a class="position-r"><span class="num-circle-diy">1</span></a>
        </div>
      </div>

      <div class="border-box-list">
        <div class="title">边框</div>
        <div class="list-item">
          <a>
            <div class="border-diy">border-diy：字体颜色,边框颜色</div>
          </a>
        </div>
      </div>
      <div class="border-box-list">
        <div class="title">背景颜色</div>
        <div class="list-item">
          <a class="bg-diy">bg-diy：背景颜色</a>
          <a class="bg-opacity01-diy">bg-opacity01-diy</a>
          <a class="bg-opacity02-diy">bg-opacity02-diy</a>
          <a class="bg-opacity05-diy">bg-opacity05-diy</a>
          <a class="bg-diy-sub">bg-diy-sub</a>
        </div>
      </div>
      <div class="border-box-list">
        <div class="title">按钮</div>
        <div class="list-item">
          <a>
            <button class="xxbtn-shadow-diy">xxbtn-shadow-diy</button>
          </a>
          <a>
            <button class="btn-diy">btn-diy</button>
          </a>
          <a>
            <button class="xxbtn-primary-diy">xxbtn-primary-diy</button>
          </a>
          <a>
            <button class="xxbtn-plain-diy">xxbtn-plain-diy</button>
          </a>
          <a>
            <button class="btn-gradient-diy">btn-gradient-diy</button>
          </a>
          <a>
            <span class="switch-diy display-align">
              <input type="checkbox" id="default_address" class="cbx hidden">
              <label for="default_address" class="lbl"></label>
            </span>
          </a>
          <a>

            <div class="radio-diy">
              <label class="radio-item active">
                <span>批发</span><i class="styleicon-selected2"></i>
              </label>
              <label class="radio-item">
                <span>会员</span><i class="styleicon-selected2"></i>
              </label>
            </div>
          </a>
        </div>
      </div>
      <div class="border-box-list">
        <div class="title">点击事件</div>
        <div class="list-item">
          <a>
            <button @click="layerConfirm">layer.confirm</button>
          </a>
          <a>
            <button @click="vantDialog">vant-dialog-confirm</button>
          </a>
          <a>
            <button @click="vantPicker">vant-picker-confirm</button>
          </a>
          <a>
            <button @click="toAjax">触发ajax事件</button>
          </a>
        </div>
      </div>
      <div class="border-box-list">
        <div class="title">轮播</div>
        <div class="design-preview-item" style="width: 750px;margin: auto">
          <div class="design-preview-controller">
            <div class="cap-goods-list goods-waterfall m10-list_style__2 m10-show_style__2 m10-show_goods_name__1 m10-show_goods_price__1 m10-show_goods_desc__0 m10-show_goods_spec__0 m10-show_goods_other__0 m10-buy_btn_style__1 m10-corner_mark_type__0">
              <div class="cap-goods-box">
                <div class="swiper-box swiper-container-horizontal" ref="swiper-div">
                  <ul class="goods-ul swiper-wrapper">
                    <li class="swiper-slide" v-for="i in 10">
                      <a>
                        <!--region 商品图片-->
                        <div class="cap-goods-list__img">
                          <div class="bg-img">
                            <img src="">
                          </div>
                        </div>
                        <!--endregion-->

                        <!--region 商品名称和价格的区域 -->
                        <div class="cap-goods-list__info">
                          <div class="info-top">
                            <p class="goods-name">商品名称商品名称商品名称</p>
                            <p class="goods-desc line-one">详情详情</p>
                            <p class="goods-spec line-one">规格</p>
                          </div>
                        </div>
                        <!--endregion-->

                      </a>
                    </li>
                  </ul>
                  <div class="swiper-pagination swiper-pagination-progress"
                       ref="swiper-pageination">
                    <span class="swiper-pagination-progressbar"></span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="border-box-list">
        <div class="title">vant-tab</div>
        <div style="">
          <van-tabs v-model="vantTabId" sticky swipeable :swipe-threshold="4">
            <van-tab title="标签 1" :name="1">内容 1</van-tab>
            <van-tab title="标签 2" :name="2">内容 2</van-tab>
            <van-tab title="标签 3" :name="3">内容 3</van-tab>
            <van-tab title="标签 4" :name="4">内容 4</van-tab>
            <van-tab title="标签 5" :name="5">内容 5</van-tab>
            <van-tab title="标签 6" :name="6">内容 6</van-tab>
          </van-tabs>
        </div>
      </div>
    </div>




    <vant-dialog-confirm ref="vantDialogConfirm"></vant-dialog-confirm>
    <list-picker-layer ref="listPickerLayer"></list-picker-layer>
  </div>
  <script src="__VANT_JS__"></script>
  <script src="__SWIPERJS__"></script>
  <script type="text/javascript" src="__WAPJS__/common/wapObj.js?v={$V}"></script>
  <include file="Public/components/picker/color_picker"/>
  <include file="Theme/components/vant_dialog_confirm"/>
  <include file="Theme/components/list_picker_layer"/>
<script>
  var vm = new Vue({
    el: '#app',
    components: {
      'color-picker': AppUtil.COMPONENTS.COLOR_PICKER_COMPONENT,
      'vant-dialog-confirm': AppUtil.COMPONENTS.VANT_DIALOG_CONFIRM,
      'list-picker-layer': AppUtil.COMPONENTS.LIST_PICKER_LAYER,
    },
    data: function () {
      return {
        info: {
          color1: 'rgba(9, 187, 7, 1)', // 主色
          color2: 'rgba(51, 51, 51, 1)', // 副色
        },
        check: '',
        checkList: [],
        vantTabId: 1,
      }
    },
    mounted: function () {
      this.diyTheme();
      this.initSwiper();
    },
    methods: {
      diyTheme: function() {
        var self = this;
        self.$nextTick(function () {
          // color
          var color1Text = [
            /*region 字体颜色*/
            '.color-diy', '.color-diy:active', '.color-diy:hover', '.color-diy:visited', '.color-diy:focus',
            /*endregion*/
            '.border-diy',
            '[class*="styleicon-"]', // icon图标
            /*region 朴素按钮*/
            '.xxbtn-plain-diy',
            '.xxbtn-plain-diy:active',
            '.xxbtn-plain-diy:hover',
            '.xxbtn-plain-diy:visited',
            '.xxbtn-plain-diy:visited',
            '.xxbtn-plain-diy:focus',
            /*endregion*/

            /*region radio diy[配送方式切换、绑定会员卡方式切换]*/
            '.radio-diy .radio-item.active',
            '.radio-diy .radio-item.active span',
            /*endregion*/
            '.van-tabs--line .van-tabs__wrap .van-tabs__nav--line .van-tab--active', // vant-tab选中样式
          ]
          color1Text.forEach(function (item) {
            $(item).css({color: self.info.color1})
          })

          // border-color
          var color1Border = [
            '.border-diy',
            '.border-color-diy',
            /*region 朴素按钮*/
            '.xxbtn-plain-diy',
            '.xxbtn-plain-diy:active',
            '.xxbtn-plain-diy:hover',
            '.xxbtn-plain-diy:visited',
            '.xxbtn-plain-diy:visited',
            '.xxbtn-plain-diy:focus',
            /*endregion*/

            /*region radio diy[配送方式切换、绑定会员卡方式切换]*/
            '.radio-diy .radio-item.active',
            /*endregion*/
          ]
          color1Border.forEach(function (item) {
            $(item).css({borderColor: self.info.color1})
          })
          // background-color
          var color1Bg = [
            '.bg-diy',
            '.num-circle-diy', // 原点数字
            '.xxbtn-primary-diy', // 默认按钮
            '.switch-diy .cbx:checked~label', // switch
            '.swiper-pagination-progress .swiper-pagination-progressbar', // swiper 分页圆点
            '.head-tab.tab-style-2 a.color-diy:after', // head-tab 选中样式
          ]
          color1Bg.forEach(function (item) {
            $(item).css({background: self.info.color1})
          })
          var color2BgDiy = ['.bg-diy-sub']
          color2BgDiy.forEach(function (item) {
            $(item).css({backgroundColor: self.info.color2})
          })

          /**region color1 有透明度*/
          var color1RgbaArr = self.info.color1.split(',')

          var color1Opacity01Arr = [color1RgbaArr[0], color1RgbaArr[1], color1RgbaArr[2], 0.1];
          var color1Opacity01 = color1Opacity01Arr.join(',')+')';
          var color1BgOpacity01 = [
            '.bg-opacity01-diy',
          ];
          color1BgOpacity01.forEach(function (item) {
            $(item).css({backgroundColor: color1Opacity01})
          })

          var color1Opacity02Arr = [color1RgbaArr[0], color1RgbaArr[1], color1RgbaArr[2], 0.2];
          var color1Opacity02 = color1Opacity02Arr.join(',')+')';
          $('.bg-opacity02-diy').css({backgroundColor: color1Opacity02})

          var color1Opacity03Arr = [color1RgbaArr[0], color1RgbaArr[1], color1RgbaArr[2], 0.3];
          var color1Opacity03 = color1Opacity03Arr.join(',')+')';
          var color1BgOpacity03 = [
          ];
          color1BgOpacity03.forEach(function (item) {
            $(item).css({backgroundColor: color1Opacity03})
          })
          var color1Opacity04Arr = [color1RgbaArr[0], color1RgbaArr[1], color1RgbaArr[2], 0.4];
          var color1Opacity04 = color1Opacity04Arr.join(',')+')';
          var color1BgOpacity04 = [
            '.cap-goods-list.m10-list_style__2 .swiper-pagination.swiper-pagination-progress', // swiper 分页圆点
          ];
          color1BgOpacity04.forEach(function (item) {
            $(item).css({backgroundColor: color1Opacity04})
          })

          var color1Opacity05Arr = [color1RgbaArr[0], color1RgbaArr[1], color1RgbaArr[2], 0.5];
          var color1Opacity05 = color1Opacity05Arr.join(',')+')';
          $('.bg-opacity05-diy').css({backgroundColor: color1Opacity05})
          $('.border-opacity05-diy').css({borderColor: color1Opacity05})

          /*region diy透明阴影按钮*/
          $('.xxbtn-shadow-diy, .btn-diy').css({backgroundImage: 'linear-gradient(0deg, '+color1Opacity02+' 0%, rgba(255, 255, 255, 0.5) 100%), linear-gradient(#ffffff, #ffffff)', backgroundBlendMode: 'normal, normal'})
          $('.xxbtn-shadow-diy, .btn-diy').css({boxShadow: '0rem 0rem 0.4rem 0rem '+self.info.color1})
          /*endregion*/
          /*region diy渐变按钮*/
          $('.btn-gradient-diy').css({backgroundImage: 'linear-gradient(149deg, '+color1Opacity03+' 0%, '+self.info.color1+' 100%)'})
          /*endregion*/
          /**endregion*/

          /*region head-tab 选中样式、vant-tab*/
          $('.van-tabs--line .van-tabs__wrap .van-tabs__nav--line .van-tabs__line, .head-tab a.color-diy:after').css({backgroundImage: 'linear-gradient(0deg, '+color1Opacity02+' 0%, '+self.info.color1+' 100%), linear-gradient(#ffffff, #ffffff)', backgroundBlendMode: 'normal, normal'})
          /*endregion*/

          wapObj.themeColor1 = self.info.color1;
          wapObj.themeColor2 = self.info.color2;
        })
      },
      layerConfirm: function () {
        wapObj.layerConfirm({
          title: '这个是什么弹框啊啊？'
        })
      },
      vantDialog: function () {
        this.$refs.vantDialogConfirm.init();
      },
      vantPicker: function () {
        this.$refs.listPickerLayer.init();
      },

      initSwiper: function () {
        var self = this;
        var el = self.$refs['swiper-div'];
        var swiperPage = self.$refs['swiper-pageination'];
        self.swiper = new Swiper(el, {
          speed: 350,//速度
          slidesPerView: 3,
          paginationClickable: true,
          spaceBetween: 10,//每个间隔的宽度（单位px）
          autoplayDisableOnInteraction: false,
          // autoplay: 1800,//自动播放
          pagination: swiperPage,
          paginationType: 'progress',
        });
      },
      // 触发ajax，查看load样式
      toAjax: function () {
        AppUtil.requestApi({
          url: AppUtil.getAPIUrl('Cart', 'index'),
        }).then(function (result) {
        }).finally(function () {

        })
      }
    }
  })
</script>
</block>
